<!-- (C) 2015 Rozum Halina, BSUIR -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>

<HEAD>
    <LINK rel=stylesheet href="../../Оболочка/css/style.css" type=text/css>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html" charset="utf8">
    <META HTTP-EQUIV="Content-Language" CONTENT="ru">
    <title> Практика по дисциплине &quot;Операционные системы, базы данных&quot;</title>
    <base target="_top">
</HEAD>

<BODY>
    <table width="100%" border="0" cellpadding="0" cellspacing="3" background="../../Оболочка/images/background.jpg">
        <tr>
            <td width="13%" rowspan=3 align="center"><img src="../../Оболочка/images/logo_new.jpg" width=117 align="middle">
            </td>
            <tr>
                <td width="70%" colspan=2 align="center" valign="middle">
                    <H1 align="center">электронный
        ресурс по учебной дисциплине<BR>
        &quot;Операционные системы, базы данных&quot;<BR>
        для специальности: </H1> 1-58 01 01 - &quot;ИНЖЕНЕРНО-ПСИХОЛОГИЧЕСКОЕ ОБЕСПЕЧЕНИЕ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ&quot;.
                </td>
                <td width="12%" rowspan=3 align="center">&nbsp;</td>
  <Tr>
    <td align=center colspan=2><var class="normal">
                                                  <A HREF="../../index.htm">Оглавление</A> |
                                                  <A HREF="../../Программа/program.html" TITLE="Программа курса (Откроется в новом окне)">Программа</A> |
                                                  <A HREF="../../Теория/theory.htm">Теория</A> |
                                                  <strong>Практика</strong>|
                                                  <A HREF="../../Контроль_знаний/test.htm">Контроль знаний</A> |
                                                  <A HREF="../../Об авторах/author.htm">Об авторах</A>
     </var></var> </td>
  </tr>
    </table>
    <P class="margined">
        <FONT SIZE=4>
            <CENTER>
            </CENTER>
        </FONT>
        <table style="margin:0 auto;" width="90%" border="0" cellpadding="0" cellspacing="0">
            <td>
 <A HREF="../practice.htm">Оглавление</A>
                <p>&nbsp;</p>
                 <div> <p><b><span>Лабораторная работа 1 </span></b><b><span>Разработка многопоточных приложений<span><o:p></o:p></span></span></b></p> <p><b><span>1. Цель работы<o:p></o:p></span></b></p> <p><span>Изучить особенности функционирования многопоточных приложений и получить практические навыки по их созданию.</span><b><span> <o:p></o:p></span></b></p> <p><b><span>2. Учебный материал по лабораторной<o:p></o:p></span></b></p> <p><span>Поток выполнения в <span>Java</span> представляется экземпляром класса <span>Thread</span>. Для того<span>,</span> чтобы написать свой поток исполнения, необходимо наследоваться от этого класса и переопределить метод <span>run</span>(). Например</span><span>:<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><span>public</span></span><span> class <span>MyThread</span> extends Thread {<o:p></o:p></span></p> <p><span><span> </span><span>public</span> void run() {<o:p></o:p></span></p> <p><span><span> </span><span>long</span> sum=0;<o:p></o:p></span></p> <p><span><span> </span><span> </span><span>for</span> (<span>int</span> <span>i</span>=0; <span>i</span><1000; <span>i</span>++) {<o:p></o:p></span></p> <p><span><span> </span><span>sum</span>+=<span>i</span>;<o:p></o:p></span></p> <p><span><span> </span></span><span>}<o:p></o:p></span></p> <p><span><span> </span></span><span><span>System</span><span>.</span><span>out</span><span>.</span><span><span>println</span></span><span>(</span></span><span>sum</span><span>);<o:p></o:p></span></p> <p><span><span> </span>}<o:p></o:p></span></p> <p><span>}<o:p></o:p></span></p> <p><span>Метод <span>run</span>() содержит действия, которые должны выполняться в новом потоке исполнения. Чтобы запустить его, необходимо создать экземпляр класса-наследника и вызвать унаследованный метод <span>start</span>(), который сообщает виртуальной машине, что требуется запустить новый поток исполнения и начать выполнять в нем метод <span>run</span>().<o:p></o:p></span></p> <p><span><span>MyThread</span></span><span> t = new <span><span>MyThread</span></span><span>(</span>);<o:p></o:p></span></p> <p><span><span><span>t.start</span></span></span><span><span>(</span></span><span>);<o:p></o:p></span></p> <p><span>В результате чего на консоли появится результат:<o:p></o:p></span></p> <p><span>499500<o:p></o:p></span></p> <p><span>Когда метод <span>run</span>() завершен (в частности, встретилось выражение <span>return</span>), поток выполнения останавливается. Однако ничто не препятствует записи бесконечного цикла в этом методе. В результате поток не прервет своего исполнения и будет остановлен только при завершении работы всего приложения.<o:p></o:p></span></p> <p><span>Описанный подход имеет один недостаток. Поскольку в <span>Java</span> множественное наследование отсутствует, требование наследоваться от <span>Thread</span> может привести к конфликту. Если еще раз посмотреть на приведенный выше пример, станет понятно, что наследование производилось только с целью переопределения метода <span>run</span>(). Поэтому предлагается более простой способ создать свой поток исполнения. Достаточно реализовать интерфейс <span>Runnable</span>, в котором объявлен только один метод – уже знакомый <span>void</span> <span>run</span>(). Запишем пример, приведенный выше, с помощью этого интерфейса:<o:p></o:p></span></p> <p><span><span>public</span></span><span> class <span>MyRunnable</span> implements <span>Runnable</span> {<o:p></o:p></span></p> <p><span><span> </span></span><span><span><span>public</span></span></span><span><span> <span>void</span> <span>run</span>() {</span></span><span><o:p></o:p></span></p> <p><span><span> </span>// некоторое долгое действие, вычисление<o:p></o:p></span></p> <p><span><span> </span></span><span><span>long</span></span><span> sum=0;<o:p></o:p></span></p> <p><span><span> </span><span>for</span> (<span>int</span> <span>i</span>=0; <span>i</span><1000; <span>i</span>++) {<o:p></o:p></span></p> <p><span><span> </span><span>sum</span>+=<span>i</span>;<o:p></o:p></span></p> <p><span><span> </span>}<o:p></o:p></span></p> <p><span><span> </span><span><span>System.out.println</span></span><span>(</span>sum);<o:p></o:p></span></p> <p><span><span> </span>}<o:p></o:p></span></p> <p><span>}<o:p></o:p></span></p> <p><span>Также незначительно меняется процедура запуска потока:<o:p></o:p></span></p> <p><span>Runnable r = new <span><span>MyRunnable</span></span><span>(</span>);<o:p></o:p></span></p> <p><span>Thread t = new Thread(r);<o:p></o:p></span></p> <p><span><span>t.start</span></span><span>();<o:p></o:p></span></p> <p><span>Если раньше объект, представляющий сам поток выполнения, и объект с методом <span>run</span>(), реализующим необходимую функциональность, были объединены в одном экземпляре класса <span>MyThread</span>, то теперь они разделены. Какой из двух подходов удобней, решается в каждом конкретном случае. <span>Runnable</span> не является полной заменой классу <span>Thread</span>, поскольку создание и запуск самого потока исполнения возможно только через метод <span>Thread.start</span>().<o:p></o:p></span></p> <p><span>В <span>Java</span> можно назначать потокам приоритеты. Для этого в классе <span>Thread</span> существуют методы <span>getPriority</span>() и <span>setPriority</span>(), а также объявлены три константы:<o:p></o:p></span></p> <p><span>MIN_PRIORITY<o:p></o:p></span></p> <p><span>MAX_PRIORITY<o:p></o:p></span></p> <p><span>NORM_PRIORITY<o:p></o:p></span></p> <p><span>Из названия понятно, что их значения описывают минимальное, максимальное и нормальное (по умолчанию) значения приоритета.<o:p></o:p></span></p> <p><span><span>public</span></span><span> static void main(String s[]) {<o:p></o:p></span></p> <p><span>// </span><span>Подготовка</span><span> </span><span>потоков</span><span><o:p></o:p></span></p> <p><span><span> </span>Thread <span>t[</span>] = new Thread[3];<o:p></o:p></span></p> <p><span><span> </span><span>for</span> (<span>int</span> <span>i</span>=0; <span>i</span><<span>t.length</span>; <span>i</span>++) {<o:p></o:p></span></p> <p><span><span> </span><span>t[</span><span>i</span>]=new Thread(new <span>ThreadTest</span>(), <o:p></o:p></span></p> <p><span><span> </span>"Thread "+<span>i</span>);<o:p></o:p></span></p> <p><span><span> </span><span>t[</span><span>i</span>].<span>setPriority</span>(<span>Thread.MIN_PRIORITY</span>);<o:p></o:p></span></p> <p><span><span> </span>}<o:p></o:p></span></p> <p><span>// </span><span>Запуск</span><span> </span><span>потоков</span><span><o:p></o:p></span></p> <p><span><span> </span><span>for</span> (<span>int</span> <span>i</span>=0; <span>i</span><<span>t.length</span>; <span>i</span>++) {<o:p></o:p></span></p> <p><span><span> </span><span>t[</span><span>i</span>].start();<o:p></o:p></span></p> <p><span><span> </span><span><span>System.out.println</span></span><span>(</span>t[<span>i</span>].<span>getName</span>()+<o:p></o:p></span></p> <p><span><span> </span><span> </span></span><span>" <span>started</span>");<o:p></o:p></span></p> <p><span><span> </span>}<o:p></o:p></span></p> <p><span>}<o:p></o:p></span></p> <p><a></a><span><o:p> </o:p></span></p> <p><b><span>3. Порядок выполнения работы<o:p></o:p></span></b></p> <p><![if !supportLists]><span><span>1.<span> </span></span></span><![endif]><span>Ознакомиться с учебным материалом<o:p></o:p></span></p> <p><![if !supportLists]><span><span>2.<span> </span></span></span><![endif]><span>В </span><span>IDE</span><span> </span><span>Eclipse</span><span> создать проект.<o:p></o:p></span></p> <p><![if !supportLists]><span><span>3.<span> </span></span></span><![endif]><span>Реализовать вывод даты и времени в одном потоке, и возможность останавливать его и снова запускать в другом.<o:p></o:p></span></p> <p><![if !supportLists]><span><span>4.<span> </span></span></span><![endif]><span>Продемонстрировать результат работы преподавателю.</span><span><o:p></o:p></span></p> <p><![if !supportLists]><span><span>5.<span> </span></span></span><![endif]><span>Согласовать с преподавателем содержание отчёта и подготовить его.</span><span><o:p></o:p></span></p> <p><b><span>4. Контрольные вопросы<o:p></o:p></span></b></p> <p><![if !supportLists]><span><span>1.<span> </span></span></span><![endif]><span>Что такое потоки и зачем они нужны?<o:p></o:p></span></p> <p><![if !supportLists]><span><span>2.<span> </span></span></span><![endif]><span>Зачем используется интерфейс </span><span>Runnable?</span><span><o:p></o:p></span></p> <p><![if !supportLists]><span><span>3.<span> </span></span></span><![endif]><span>Зачем нужен класс </span><span>Thread?</span><span><o:p></o:p></span></p> <p><![if !supportLists]><span><span>4.<span> </span></span></span><![endif]><span>Как реализовано использование потоков в </span><span>java</span><span>?<o:p></o:p></span></p> <p><o:p> </o:p></p> </div> 
 <A HREF="../practice.htm">Оглавление</A>
                <p>&nbsp;</p>
        </table>
<table width="100%" height=25px border="0" cellpadding="0" cellspacing="3" bordercolor="#316AC5" background="../Оболочка/images/background.jpg">
  <tr >
  <td align=center><var><B><b>(С)  БГУИР</b></var></td>
  </tr>
</table>
</BODY></HTML>