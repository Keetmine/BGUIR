<!-- (C) 2015 08 Rozum Halina, BSUIR -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<LINK rel=stylesheet href="../../../Оболочка/css/style.css" type=text/css>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html" charset="utf8">
<META HTTP-EQUIV="Content-Language" CONTENT="ru">
<title>Tema 13 &quot;СХЕМОТЕХНИКА&quot;</title>
<base target="_top">
</HEAD><BODY>
<table width="100%" border="0" cellpadding="0" cellspacing="3" background="../../../Оболочка/images/background.jpg">
  <tr>
    <td width="13%" rowspan=3 align="center" ><img src="../../../Оболочка/images/logo_new.jpg" width=117 align="middle"></td>
  <tr>
  <td width="70%" colspan=2 align="center" valign="middle">
                    <H1 align="center">электронный
        ресурс по учебной дисциплине<BR>
        &quot;СХЕМОТЕХНИКА&quot;<BR>
        для специальности: </H1> 1-58 01 01 - &quot;ИНЖЕНЕРНО-ПСИХОЛОГИЧЕСКОЕ ОБЕСПЕЧЕНИЕ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ&quot;
                </td>
    <td width="12%" rowspan=3 align="center" >&nbsp;</td>
  <Tr>
    <td align=center colspan=2><var class="normal"><A HREF="../../../index.html">Оглавление</A> |
  <A HREF="../../../Программа/programm.html" TITLE="Программа курса (Откроется в новом окне)">Программа</A> |
              <strong>Теория</strong> |
    <A HREF="../../../Практика/practice.html">Практика</A>|
    <A HREF="../../../Контроль_знаний/test.html">Контроль знаний</A> |
  <A HREF="../../../Об авторах/author.html">Об авторах</A></var> </td>
  <tr>
</table>
<div style="margin:0 auto;" width="90%" border="0" cellpadding="0" cellspacing="0">

        <A HREF="../../../Теория/theory.html">Содержание</A>
                 <div> <p><span>Раздел 2. Схемотехнические решения <o:p></o:p></span></p> <p><span>Тема 1</span><span>3 </span><span><o:p></o:p></span></p> <p style="text-align: center;"><b><span>Аналоговые коммутаторы<o:p></o:p></span></b></p> <p> <span><span>1.<span> </span></span></span> <span>Коммутаторы на полевых транзисторах.<o:p></o:p></span></p> <p> <span><span>2.<span> </span></span></span> <span>Промышленные аналоговые коммутаторы. <o:p></o:p></span></p>
                  <p> <span><span>3.<span> </span></span></span> <span>Характеристики аналоговых коммутаторов. <o:p></o:p></span></p> <p> <span><span>4.<span> </span></span></span> <span>Применение аналоговых коммутаторов.<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Аналоговый коммутатор служит для переключения непрерывно изменяющихся электрических сигналов. Если коммутатор находится в состоянии «включено», его выходное напряжение должно по возможности точно равняться входному; если же коммутатор находится в состоянии «выключено», выходное напряжение должно быть как можно ближе к нулю. Существуют различные схемные решения коммутаторов, удовлетворяющие указанным условиям. Их принцип действия показан на <b><i>Рис. 1</i> </b>на примере механических (контактных) переключателей.<o:p></o:p></span></p> <p><span>
                  <img src="Tema%2013.files/image002.jpg" v:shapes="_x0000_i1025">
                  <img src="Tema%2013.files/image004.jpg" v:shapes="_x0000_i1026">
  <img src="Tema%2013.files/image006.jpg" v:shapes="_x0000_i1027"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 1. Схемы механических коммутаторов:<o:p></o:p></span></p> <p style="text-align: center;"><i><span>а </span></i><span>— последовательный, <i>б </i>— параллельный, <i>в </i>— последовательно-<o:p></o:p></span></p> <p style="text-align: center;"><span>параллельный</span><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>На <b><i>Рис. 1а</i></b> представлен последовательный коммутатор. Пока контакт замкнут, </span><b><i><span>V<sub>OUT</sub></span></i></b><i><span> </span></i><span>= </span><b><i><span>V<sub>IN</sub></span></i></b><span>. Когда контакт размыкается, выходное напряжение становится равным нулю. Все это справедливо, если источник сигнала имеет нулевое выходное сопротивление и емкость нагрузки равна нулю. При значительном выходном сопротивлении источника сигнала напряжение </span><b><i><span>V<sub>OUT</sub></span></i></b><span> делится между этим сопротивлением и резистором <i>R. </i>Поэтому эту схему не следует применять в случае, если источником сигнала является источник тока, например фотодиод. При существенной емкости нагрузки во время разряда этой емкости при размыкании ключа <i>S </i>выходное напряжение коммутатора падает до нуля не мгновенно. <o:p></o:p></span></p> <p><span>В схеме параллельного коммутатора <b>(<i>Рис. <span>1б) </span></i></b></span><b><i><span>V<sub>OUT</sub></span></i></b><i><span> </span></i><span>= </span><b><i><span>V<sub>IN</sub></span></i></b><span> при разомкнутом ключе, если входное сопротивление нагрузки коммутатора бесконечно велико. Если же оно соизмеримо с сопротивлением резистора <b><i>R</i></b>, то на резисторе будет падать часть выходного напряжения источника сигнала. При наличии емкостной нагрузки будет относительно медленно устанавливаться выходное напряжение после размыкания ключа.<o:p></o:p></span></p> <p><span>Последовательно-параллельный коммутатор, показанный на <b><i>Рис. 1</i></b>*, объединяет достоинства двух предыдущих схем. В положении 1 он имеет выходное сопротивление, равное выходному сопротивлению источника сигнала, и при его малой величине коммутатор обладает коэффициентом передачи близким к 1 и малым временем установления выходного напряжения при заметной емкости нагрузки. В положении 2 его выходное напряжение и выходное сопротивление равны нулю, что обеспечивает практически мгновенный разряд емкости нагрузки.<o:p></o:p></span></p> <p><span>Разновидности аналоговых коммутаторов, показанные на Рис. .1, могут быть реализованы на <b>электронных элементах</b> с управляемым сопротивлением, имеющим малое минимальное и высокое максимальное значения. Для этих целей могут использоваться диодные мосты, <b>биполярные и полевые транзисторы</b>. Вследствие неидеальности они вносят ряд статических и динамических погрешностей в коммутируемые сигналы. В числе основных источников погрешностей электронных аналоговых коммутаторов можно назвать следующие:<o:p></o:p></span></p> <p><span>• проходное сопротивление электронного ключа не равно нулю во включенном состоянии и, конечно, в выключенном;<o:p></o:p></span></p> <p><span>• наличие не равного нулю остаточного напряжения на замкнутом ключе при нулевом коммутируемом сигнале;<o:p></o:p></span></p> <p><span>• нелинейная зависимость сопротивления ключа от напряжения (тока) как на сигнальном, так и на управляющем входах;<o:p></o:p></span></p> <p><span>• взаимовлияние управляющего и коммутируемого сигналов;<o:p></o:p></span></p> <p><span>• наличие целого ряда паразитных емкостей, одни из которых приводят к ослаблению высокочастотных составляющих коммутируемого сигнала при замкнутом ключе, другие — к просачиванию коммутируемого сигнала на выход при разомкнутом ключе, и, наконец, третьи обуславливают дополнительные связи между каналами, а также между управляющими и сигнальными цепями;<o:p></o:p></span></p> <p><span>• ограниченный динамический диапазон коммутируемых токов и напряжений.<o:p></o:p></span></p> <p><span>Ключи на биполярных транзисторах и в особенности на диодных мостах потребляют значительную мощность по цепям управления и имеют сравнительно большое остаточное напряжение, составляющее единицы мВ, что вносит заметную погрешность при коммутации слабых сигналов (менее 100 мВ). Такие ключи имеют высокое быстродействие (время переключения диодных ключей, выполненных на диодах Шоттки, достигает 1 не) и применяются для построения сверхскоростных коммутаторов. В менее быстродействующих коммутаторах гораздо шире применяются ключи на полевых транзисторах.<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p> <b><span><span>1.<span> </span></span></span></b> <b><span>Коммутаторы на полевых транзисторах.<o:p></o:p></span></b></p> <p><span>Как известно, полевой транзистор в области малых напряжений сток—исток ведет себя как резистор, сопротивление которого может изменяться во много раз при изменении управляющего напряжения затвор—исток </span><b><i><span>V<sub>GS</sub></span></i></b><span> * На<b><i> Рис. 2а</i></b> изображена упрощенная схема последовательного коммутатора на полевом транзисторе с управляющим/?-л-переходом. <o:p></o:p></span></p> <p><span>Если в этой схеме управляющее напряжение <b><i>V</i></b></span><b><i><sub><span>CTRL</span></sub></i></b><span>l установить меньшим, чем минимально возможное входное напряжение, по крайней мере, на величину порогового напряжения транзистора, транзистор закроется и выходное напряжение станет равным нулю. Для того чтобы транзистор был открыт, напряжение затвор—исток <b><i>V<sub>GS</sub></i></b> следует поддерживать равным нулю, что обеспечивает минимальное сопротивление канала. Если же это напряжение станет больше нуля, управляющий </span><b><i><span>p</span></i></b><b><i><span>-</span></i></b><b><i><span>n</span></i></b><span>-переход откроется и выход коммутатора окажется соединенным с цепью управления. В схеме <b><i>Рис. 2а</i></b> равенство нулю </span><b><i><span>V<sub>GS</sub></span></i></b><span> обеспечить не так просто, поскольку потенциал истока меняется согласно изменению входного сигнала. Наиболее простой путь преодоления этой трудности показан на <b><i>Рис. 2б</i></b>.<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image008.jpg" v:shapes="_x0000_i1028">
  <img src="Tema%2013.files/image010.jpg" v:shapes="_x0000_i1029"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис.2. Последовательный коммутатор на полевом транзисторе с управляющим<i>р-п-</i>переходом: <i>a </i>— упрощенная схема, <i>б — </i>с ограничением максимального управляющего напряжения цепью <b><i>VD-R<sub>1</sub></i><span><o:p></o:p></span></b></span></p> <p><b><span><o:p> </o:p></span></b></p> <p><span>Если напряжение </span><b><i><span>V<sub>CTRL</sub></span></i></b><span> </span><span>установить большим, чем максимально возможное входное напряжение коммутатора, диод <b><i>VD</i></b> закроется и напряжение <b><i>V<sub>GS </sub></i></b><span> </span>будет, как это и требуется, равно нулю. При достаточно большом отрицательном управляющем напряжении диод будет открыт, а полевой транзистор закрыт. В таком режиме работы через резистор </span><b><i><span>R<sub>1</sub></span></i></b><span> течет ток от источника входного сигнала в цепь управляющего сигнала. Но это не мешает нормальной работе схемы, так как выходное напряжение коммутатора в этом режиме равно нулю. Однако если цепь входного сигнала содержит разделительный конденсатор, последний при закрытом транзисторе коммутатора зарядится до отрицательного уровня управляющего напряжения, что приведет к полному нарушению работы схемы. <o:p></o:p></span></p> <p><span>Проблемы подобного рода не возникают, если в качестве ключа использовать полевой транзистор с изолированным затвором (МОП-транзистор). Его можно переводить в открытое состояние, подавая управляющее напряжение большее, чем максимальное входное положительное напряжение, причем и в таком режиме работы ток затвора будет равен нулю. Таким образом, в этой схеме коммутатора отпадает необходимость в диоде и резисторе </span><b><i><span>R<sub>1</sub></span></i></b><span>. Схемы коммутаторов с ключами на МОП-транзисторах приведены на <b><i>Рис. 3.<o:p></o:p></i></b></span></p> <p><span><o:p> </o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image012.jpg" v:shapes="_x0000_i1030">
  <img src="Tema%2013.files/image014.jpg" v:shapes="_x0000_i1031"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 3. Последовательные коммутаторы с ключами на МОП-транзисторах: <o:p></o:p></span></p> <p style="text-align: center;"><span>а — на </span><b><i><span>n</span></i></b><span>-канальном МОП-транзисторе, <span> </span>б — на KMO П-транзисторах<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>На схеме <b><i>Рис. 3а</i></b> ключом является </span><b><i><span>n</span></i></b><span>-канальный МОП-транзистор обогащенного типа, не проводящий ток при <b><i>V<sub>GS</sub></i></b> <u><</u> 0. В этом состоянии сопротивление канала, как правило, достигает единиц или даже десятков ГОм, и сигнал не проходит через ключ. Подача на затвор относительно истока значительного положительного напряжения переводит канал в проводящее состояние, причем для транзисторов, используемых в качестве аналоговых ключей, типичное сопротивление открытого канала составляет от 1 до 300 Ом. </span><span><o:p></o:p></span></p> <p><span>Эта схема будет работать при положительных входных сигналах, которые, по крайней мере, на 5 В меньше, чем </span><b><i><span>V<sub>CTRL</sub></span></i></b><span> </span><span>; при более высоком уровне сигнала напряжение затвор—исток будет недостаточно, чтобы удержать транзистор в открытом состоянии (сопротивление канала в открытом состоянии Rqn начнет расти); при заземленной подложке отрицательные входные сигналы вызовут включение транзистора. Поэтому, если надо переключать сигналы обеих полярностей (например, в диапазоне —10...+10 В), то можно использовать такую же схему, соединив подложку с источником—15 В и подавая на затвор напряжения +15 В (включено) и —15 В (выключено). </span><span><o:p></o:p></span></p> <p><span>Лучшими характеристиками обладают ключи на комплементарных МОП-транзисторах (КМОП-ключи), <b><i>Рис.3б</i></b>. Здесь на подложку транзистора </span><b><i><span>VT</span></i></b><b><i><sub><span>1 </span></sub></i></b><span>подается положительное питающее напряжение +</span><b><i><span>V<sub>S</sub></span></i></b><span> а на подложку транзистора </span><b><i><span>VT</span></i></b><b><i><sub><span>2</span></sub></i></b><span> — отрицательное питающее напряжение — </span><b><i><span>V<sub>S</sub></span></i></b><span>. При высоком уровне управляющего сигнала напряжение на затворе </span><b><i><span>n</span></i></b><span>-канального транзистора </span><b><i><span>VT</span></i></b><b><i><sub><span>2</span></sub></i></b><span> практически равно +</span><b><i><span>V<sub>S</sub></span></i></b><span>. В этом случае транзистор </span><b><i><span>VT</span></i></b><b><i><sub><span>2</span></sub></i></b><span> проводит сигналы с уровнями от — </span><b><i><span>V<sub>S</sub></span></i></b><span> до величины лишь на несколько вольт ниже +</span><b><i><span> </span></i></b><b><i><span>V<sub>S</sub></span></i></b><span> (при более высоких уровнях сигнала </span><b><i><span>V<sub>ON</sub></span></i></b><span> </span><span><span> </span>начинает резко расти). В то же время напряжение на затворе </span><b><i><span>p</span></i></b><b><i><span>-</span></i></b><span>канального транзистора </span><b><i><span>VT</span></i></b><b><i><sub><span>1</span></sub></i></b><span> практически равно — </span><b><i><span>V<sub>S</sub></span></i></b><span> и он пропускает сигналы с уровнями oт+</span><b><i><span> </span></i></b><b><i><span>V<sub>S</sub></span></i></b><span> до значения на несколько вольт выше — </span><b><i><span>V<sub>S</sub></span></i></b><span>. Таким образом, все сигналы в диапазоне от +</span> <b><i><span>V<sub>S</sub></span></i></b><span> </span><span>до — </span><b><i><span>V<sub>S</sub></span></i></b><span> проходят через двухполюсник (параллельно включенные </span><b><i><span>VT</span></i></b><b><i><sub><span>1</span></sub></i></b><span> и </span><b><i><span>VT</span></i></b><b><i><sub><span>2</span></sub></i></b><span> )с малым сопротивлением </span><b><i><span>R<sub>ON</sub></span></i></b><b><i><sub><span> </span></sub></i></b><span>(<b><i>Рис. 4</i></b>). </span><b><i><sub><span><o:p></o:p></span></sub></i></b></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image016.jpg" v:shapes="_x0000_i1032"> <o:p></o:p></span></p> <p style="text-align: center;"><b><span>Рис. 4. </span></b><span>Зависимость сопротивления каналов ключей на<o:p></o:p></span></p> <p style="text-align: center;"><span>КМОП-транзисторах от входного напряжения<o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>При переключении управляющего сигнала на низкий уровень напряжение на затворе </span><i><span>n</span></i><span>-канального транзистора </span><b><i><span>VT</span></i></b><b><i><sub><span>2</span></sub></i></b><span> устанавливается близким к —</span><b><i><span>V<sub>S</sub></span></i></b><span>, а на затворе </span><b><i><span>p</span></i></b><span>-канального транзистора </span><b><i><span>VT</span></i></b><b><i><sub><span>1</span></sub></i></b><span> — близким к +</span><b><i><span>V<sub>S</sub></span></i></b><span>. </span><span><o:p></o:p></span></p> <p><span>Тогда, при — </span><b><i><span>V<sub>S</sub></span></i></b><span>. < </span><b><i><span>V<sub>IN</sub></span></i></b><span> < +</span><b><i><span>V<sub>S</sub></span></i></b><span>, оба транзистора заперты, и цепь коммутатора разомкнута. В результате получается аналоговый переключатель для входных сигналов в диапазоне от отрицательного до положительного напряжений питания ключа. Эта схема одинаково работает в двух направлениях — ее сигнальные зажимы S (source — исток) и D (drain — сток) могут служить как входом, так и выходом. Она является основой практически для всех ИМС аналоговых коммутаторов, выпускаемых в настоящее время. </span><span><o:p></o:p></span></p> <p><span>Управление КМОП-ключами осуществляется с помощью логических схем, причем наилучшие результаты обеспечивает КМОП-логика. Логические входы аналоговых коммутаторов обычно проектируют таким образом, чтобы сделать возможным управление ими как от КМОП-, так и от ТТЛ-логики. В ранних моделях для питания входных логических элементов требовалось специальное напряжение питания +5 В. В последних моделях этих ИМС обходятся без него. Применение КМОП-логики для управления транзисторами ключей дает еще один важный положительный эффект — в состоянии покоя эти микросхемы практически не потребляют энергии.<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p style="text-align: center;"> <b><span><span>2.<span> </span></span></span></b> <b><span>Промышленные аналоговые коммутаторы. <o:p></o:p></span></b></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Промышленность в настоящее время выпускает большое количество типов микросхем, содержащих несколько отдельных, не связанных между собой коммутируемых каналов (ключей). Основные производители аналоговых коммутаторов — это фирмы Analog Devices и Maxim (в России — НПО «Светлана»). Для низкочастотных применений обычный состав микросхемы — четыре ключа, каждый из которых соединяет или разъединяет две цепи (single pole/single throw, SPST — однополюсный переключатель на одно направление). Как правило, при нулевом уровне на управляющих входах эти 4 ключа либо все нормально замкнуты, либо все нормально разомкнуты, либо два из них нормально замкнуты, а два других нормально разомкнуты. Пример — серия МАХ391/2/3/5: МАХ391 — 4 нормально замкнутых (normally closed, NC) ключа, МАХ392 — 4 нормально разомкнутых (normally opened, NO) ключа, в составе МАХ393 два нормально замкнутых и два нормально разомкнутых ключа, МАХ395 — 8 нормально разомкнутых (N0) ключей. <o:p></o:p></span></p> <p><span>Другой вариант многоканального коммутатора — в одном корпусе несколько переключателей, каждый из которых в зависимости от уровня управляющего сигнала соединяет одну цепь с одной из двух других цепей (single pole/dual throw, SPDT — однополюсный переключатель на два направления). Например, ADG749 содержит на кристалле один переключатель с типичным </span><b><i><span>R<sub>ON</sub></span></i></b><span> = 4 Ом, а МАХ394 — четыре переключателя с типичным </span><b><i><span>R<sub>ON</sub></span></i></b><span>=17Ом. <o:p></o:p></span></p> <p><span>Применение аналоговых коммутаторов в составе микропроцессорной системы делает желательным управление ими от системной шины. В этом случае в состав микросхемы коммутатора должен входить регистр для приема и хранения цифровой информации о состоянии ключей. При этом возможна как параллельная, так и последовательная загрузка данных в регистр. Примером коммутаторов с параллельной загрузкой могут служить 4-канальные ADG222 или 590КН12. Эти коммутаторы содержат четыре нормально разомкнутых ключа и 4-разрядный регистр хранения. По активному уровню сигнала записи <b><i>W </i></b>4-разрядное слово данных, управляющее ключами, загружается в регистр.<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image018.jpg" v:shapes="_x0000_i1033"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 5. Схема 8-канального коммутатора ADG715 с последовательным управлением по шине 12С<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Увеличение числа ключей в одном корпусе требует применения корпусов с большим числом выводов для управляющих входов, усложняет трассировку чипа и платы. В связи с этим оказывается удобным применять коммутаторы с управлением по последовательному интерфейсу. Это позволяет существенно упростить подключение коммутаторов к управляющему микроконтроллеру. Типичные примеры таких устройств — 6-канальные МАХ4562/3 и 8-канальные ADG714/5. Коммутаторы МАХ4562 и ADG715 из этих семейств имеют двухпроводный цифровой интерфейс (</span><span>I</span><sup><span>2</span></sup><span>С-совместимый), а МАХ4563 и ADG714 — трехпроводный (SPI/QSPI, MICROWIRE-co- вместимый). На <b><i>Рис.5</i></b> представлена функциональная схема коммутатора ADG715.<o:p></o:p></span></p> <p><span>Он содержит восемь двунаправленных ключей с типичными </span><b><i><span>R<sub>ON</sub></span></i></b><span> </span><span>= 2.5 Ом и токами утечки в закрытом состоянии 0.01 нА, а также управляющую логику в состав которой входит сдвиговый регистр. <o:p></o:p></span></p> <p><span>Микросхема ADG715 управляется от двухпроводной последовательной шины </span><span>I</span><sup><span>2</span></sup><span>С как ведомое устройство. На вход SCL поступают тактовые импульсы, а на SDA — 8-разрядное слово данных. ADG715 имеет 7-разрядный адрес. Пять старших значащих разрядов (MSB) определяют номер коммутируемого канала, а два младших разряда (LSB) — адрес микросхемы. Для установления адреса микросхемы служат выводы А<sub>1</sub> и А<sub>0</sub>, которые подключаются к шине питания (тогда А<sub>1</sub> = 1) или к общей шине (тогда А<sub>1</sub> = 0). Таким образом, по двум линиям интерфейса можно адресовать четыре микросхемы, управляя состояниями 8 х 4 = 32 ключей. <o:p></o:p></span></p> <p><span>Двухпроводный последовательный интерфейс шины по протоколу 12С работает следующим образом <b><i>(Рис 6</i></b>):<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image020.jpg" v:shapes="_x0000_i1034"> __<o:p></o:p></span></p> <p style="text-align: center;"><b><span>Рис. </span></b><span>6. Диаграммы управления коммутатором ADG715 по двухпроводной<o:p></o:p></span></p> <p style="text-align: center;"><span>последовательной шине 12С</span><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Управляющее устройство (мастер) инициализирует передачу данных, генерируя стартовый бит путем перевода линии SDA из 1 в 0 при высоком уровне тактовой линии SCL. Далее передается адресный байт, который состоит из 7-разрядного адреса ведомого устройства, сопровождаемого R/W-битом (этот бит определяет, будут ли данные читаться из ведомого устройства или будут записываться в него). Ведомый, чей адрес соответствует переданному адресу, отвечает, устанавливая на выводе SDA низкий уровень в течение девятого синхро-низирующего импульса (сигнал подтверждения, АСК). На этой стадии все другие устройства на шине остаются незанятыми, в то время как выбранное устройство ждет данные, которые^будут записаны в или прочитаны из последовательного регистра. Если бит R/W = 0, мастер осуществляет запись в ведомое устройство (именно этот режим иллюстрируется Рис. 6), в противном случае мастер считывает содержимое регистра. <o:p></o:p></span></p> <p><span>Данные передаются по линии SDA в виде последовательности синхронизируемых импульсов (8 информационных битов, сопровождаемых битом подтверждения). При передаче данных изменения на линии SDA могут происходить только при низком уровне сигнала SCL; в течение полупериода с высоким уровнем сигнала SCL состояние линии SDA не меняется. </span><span><o:p></o:p></span></p> <p><span>После передачи или чтения данных мастер останавливает процесс путем перевода линии SDA из низкого в высокое состояние, в то время как сигнал SCL имеет высокий уровень (команда «Стоп»). <o:p></o:p></span></p> <p><span>Микросхема 8-канального коммутатора ADG715 обладает функцией повторной записи, которая создает дополнительное удобство пользователю. Пусть в некоторый момент времени требуется изменить состояния ключей только одной из микросхем. Тогда, если не было команды «Стоп», при повторных обращениях к этой микросхеме можно передавать только байт данных, который снова изменит состояние ключей и так далее.<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p style="text-align: center;"> <b><span><span>3.<span> </span></span></span></b> <b><span>Характеристики аналоговых коммутаторов. <o:p></o:p></span></b></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><b><span>3</span></b><b><span>.1. Статические характеристики<o:p></o:p></span></b></p> <p><i><span>Сопротивление в открытом (включенном) состоянии </span></i><b><i><span>R<sub>ON</sub></span></i></b><i><span>. </span></i><b><span>Ключи </span></b><span>КМОП, работающие при относительно высоком напряжении питания </span><b><i><span>V<sub>S</sub></span></i></b><i><span> </span></i><span>(например, <u>+</u>15 В), будут иметь малые значения </span><b><i><span>R<sub>ON</sub></span></i></b><i><span>. </span></i><span>во<b> </b>всем диапазоне значений входного сигнала, так как всегда тот или другой проводящий транзистор имеет достаточное прямое смещение затвора, равное, по крайней мере, половине напряжения питания. Но при меньшем напряжении питания сопротивление ключа </span><b><i><span>R<sub>ON</sub></span></i></b><i><span>. </span></i><span>будет расти, и при малых питающих напряжениях максимум </span><b><i><span>R<sub>ON</sub></span></i></b><i><span>. </span></i><span>имеет место при среднем уровне сигнала между высоким и низким напряжениями питания. <o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image022.jpg" v:shapes="_x0000_i1035"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>7</span><span>. Зависимости КМОП-ключа ИМС МАХ312 от входного напряжения при однополярном питании для различных значений питающего напряжения</span><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>На <b>Рис. 7 </b>приведены зависимости <i>Ron </i>ключа микросхемы коммутатора МАХ312 от напряжения входного сигнала при однополярном питании.<o:p></o:p></span></p> <p><span>При уменьшении </span><b><i><span>V<sub>S</sub></span></i></b><span> сопротивление полевого транзистора во включенном состоянии значительно увеличивается (особенно вблизи точки </span><b><i><span>V<sub>IN</sub></span></i></b><span> = </span><b><i><span>V<sub>S</sub></span></i></b><span> /2). Это объясняется тем, что для полевого транзистора с индуцированным каналом, работающего в режиме обогащения, пороговое напряжение составляет несколько вольт, и для достижения малых значений Ron требуется напряжение затвор - исток не меньше чем 5...10 В. Как видно из Рис 15, сопротивление открытого ключа при номинальном напряжении питания (</span><b><i><span>V<sub>S</sub></span></i></b><span> = 15 В), близкое к 10 Ом, при </span><b><i><span>V<sub>S</sub></span></i></b><span> = 2.7 В достигает 700 Ом.<o:p></o:p></span></p> <p><span>Имеются различные приемы, позволяющие сохранить значение </span><b><i><span>R<sub>ON</sub></span></i></b><b><i><sub><span> </span></sub></i></b><span>малым и примерно постоянным во всем диапазоне изменения входного сигнала и тем самым уменьшить нелинейные искажения последнего. Например, схему управления ключом выполняют таким образом, чтобы напряжение л-подложки «следило» за напряжением входного сигнала. Применение транзисторов с малым напряжением отсечки и повышенной крутизной позволяет построить коммутаторы с весьма малым </span><b><i><span>R<sub>ON</sub></span></i></b><b><i><sub><span> </span></sub></i></b><span><span> </span>при низком питающем напряжении. Так, например, одноканальный ключ ADG701 при однополярном питании +5 В имеет сопротивление </span><b><i><span>R<sub>ON</sub></span></i></b><span> не более 2.5 Ом. На Рис. 8 приведены зависимости сопротивления открытого ключа низковольтной микросхемы МАХ391 от напряжения входного сигнала для различных питающих напряжений при однополярном и двухполярном питании.</span><b><i><sub><span><o:p></o:p></span></sub></i></b></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image024.jpg" v:shapes="_x0000_i1036">
  <img src="Tema%2013.files/image026.jpg" v:shapes="_x0000_i1037"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 8. Графики зависимостей ключа ИМС МАХ391 от входного напряжения для различных значений питающих напряжений: <o:p></o:p></span></p> <p style="text-align: center;"><span>a — при однополярном питании, б — при двухполярном питании<o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Сопротивление канала открытого транзистора существенно зависит от температуры — при переходе от нижней к верхней границе диапазона температур сопротивление увеличивается приблизительно в 2 раза. Помимо собственно сопротивления канала открытого ключа изготовители приводят в технических характеристиках коммутаторов значения максимальной разности </span><b><i><span>R<sub>ON</sub></span></i></b><b><i><sub><span> </span></sub></i></b><span><span> </span>ключей многоканальных коммутаторов и мультиплексоров (</span><span>
  <img src="Tema%2013.files/image028.jpg" alt="*" v:shapes="_x0000_i1038"> <b><i> </i></b></span><b><i><span>R<sub>ON</sub></span></i></b><b><i><sub><span> </span></sub></i></b><span>) и значения неравномерности сопротивления открытого канала (</span><b><i><span>R<sub>FLAT</sub></span></i></b><b><i><sub><span>_</span></sub></i></b><b><i><sub><span>ON</span></sub></i></b><span>) , которая определяется как разность между максимальным и минимальным значениями </span><b><i><span>R<sub>ON</sub></span></i></b><span> </span><span><span> </span>одного канала, измеренными в указанном диапазоне коммутируемого аналогового сигнала.<o:p></o:p></span></p> <p><b><i><span>Ток утечки канала</span></i></b><span>. В закрытом состоянии канал МОП-ключа обладает очень высоким, но все же конечным динамическим сопротивлением (до сотен гигом) при напряжении сток—исток более 0.1 В. Наличие конечного сопротивления закрытого канала является причиной тока утечки </span><b><i><span>I<sub>Q</sub></span></i></b><b><span> </span></b><span><span> </span>. Направление протекания тока утечки через закрытый КМОП-ключ определяется полярностью приложенного напряжения. Типичное значение Iq для широкой номенклатуры аналоговых ключей и мультиплексоров составляет величину порядка 1 нА. Однако выпускаются и ключи со значительно более низким током утечки. Например, у 8-канального ADG715 типичный ток утечки при комнатной температуре 0.01 нА. При очень низких напряжениях на закрытом ключе сопротивление канала уменьшается, но остается все-таки весьма высоким. Ток утечки очень сильно зависит от температуры кристалла. Зависимость эта имеет сложный характер, но, как правило, с ростом температуры ток утечки возрастает. Например, для ADG511 изготовитель гарантирует при температуре +25°С значение тока утечки в пределах 0.1 нА и не более 2.5 нА при изменении температуры в диапазоне -40...+85°С.<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><b><span>3</span></b><b><span>.2. Динамические характеристики<o:p></o:p></span></b></p> <p><span>Межэлектродные емкости. На работу МОП-ключей в динамическом режиме оказывает наличие межэлектродных емкостей, в число которых входят (Рис. 9): емкость между входом и выходом (<b>C<sub>DS</sub></b>), емкости между каналом и общей точкой схемы (<b>C<sub>D</sub></b>, <b>C<sub>S</sub></b>), емкость между затвором и каналом (<b>C<sub>G</sub></b>), а также емкости между ключами различных каналов в пределах одного кристалла. <o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image030.jpg" v:shapes="_x0000_i1039"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>9</span><span>. Емкости МОП-ключа</span><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Как правило, наличие этих емкостей ухудшает характеристики ключей. <o:p></o:p></span></p> <p><b><span>C<sub>DS</sub></span></b><span> {емкость вход—выход). Наличие этой емкости приводит к прохождению сигнала через разомкнутый ключ, которое на высоких частотах возрастает. На Рис. 9 показан этот эффект для микросхемы четырехканального аналогового коммутатора типа МАХ312.<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image032.jpg" v:shapes="_x0000_i1040"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>10</span><span>. Частотные характеристики последовательного коммутатора на ИМС МАХ312</span><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Здесь кривая 1 представляет собой амплитудно- частотную характеристику последовательного ключа, нагруженного на резистор 50 Ом в замкнутом состоянии. Кривая 2 — фазочастотная характеристика для этого же случая. Кривая 3 представляет амплитудно- частотную характеристику ключа в разомкнутом состоянии при той же нагрузке. Как видно, даже при нагрузке 50 Ом сквозное прохождение сигнала на высоких частотах становится весьма значительным. С ростом сопротивления нагрузки ситуация со сквозной передачей сигнала только усугубляется. Для сравнения штриховой линией 4 представлена АЧХ цепи, состоящей из конденсатора емкостью 2.5 пФ и сопротивления нагрузки 50 Ом.<o:p></o:p></span></p> <p><span>В большинстве низкочастотных применений сквозное прохождение сигнала через емкость разомкнутого ключа не создает проблем. Если они все же возникают, хорошим решением является использование пары включенных каскад-но ключей (Рис. 11а) или, что еще лучше, использование последовательно-параллельного коммутатора (Рис. 11б).<o:p></o:p></span></p> <p style="text-align: center;"><span>

  <img src="Tema%2013.files/image034.jpg" v:shapes="_x0000_i1041">
  <img src="Tema%2013.files/image036.jpg" v:shapes="_x0000_i1042">
  <img src="Tema%2013.files/image038.jpg" v:shapes="_x0000_i1043"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>11</span><span>. Схемы соединения ключей, обеспечивающие улучшенные характеристики коммутаторов в разомкнутом состоянии: <i>а — </i>с последовательным соединением, <i>б— </i>с последовательно-параллельным соединением, <i>в </i>— с Т-образным соединением<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Последовательный каскад удваивает ослабление (в децибелах) за счет дополнительного делителя напряжения, в то время как последовательно-параллельная схема уменьшает прямое прохождение сигнала, когда последовательный ключ разомкнут, а параллельный замкнут, снижая эффективное сопротивление нагрузки до </span><b><i><span>R<sub>ON</sub></span></i></b><span> . Многие фирмы выпускают ИМС аналоговых коммутаторов, содержащие по два нормально замкнутых (т. е. замкнутых при низком уровне управляющего сигнала) и два нормально разомкнутых ключа. Это, например, МАХ314, DG413, 590КН4 и др. Эти микросхемы позволяют довольно просто построить последовательно-параллельные коммутаторы. Еще удобнее использовать микросхемы с аналоговым переключателем, такие, как, например, ADG749. И наконец, наименьшее прохождение сигнала через закрытый коммутатор обеспечивает применение так называемых Т-образных переключателей (Рис. 19в). ИМС такого переключателя ADG751 обеспечивает сквозную изоляцию —75 дБ на частоте 100 МГц, в то время как МАХ312 пропускает сигнал на той же частоте с ослаблением всего-12дБ, т.е. работает в 1400 раз хуже!<o:p></o:p></span></p> <p><b><span>C<sub>D</sub></span></b><span>, </span><b><span>C<sub>S</sub></span></b><span> </span><span>(<i>емкости относительно общего вывода</i>). Шунтирующая на землю емкостьприводит к упомянутому ранее спаду частотной характеристики (кривые 1 и 2 на Рис. 10). Совместно с сопротивлением источника сигнала и сопротивлением замкнутого ключа </span><b><i><span>R<sub>ON</sub></span></i></b><span> эти емкости образуют фильтр нижних частот. Ситуация усугубляется при высокоомном источнике сигнала. <o:p></o:p></span></p> <p><i><span>Емкость между ключами</span></i><span>. Поскольку обычно на кристалле размещается несколько ключей, то не следует удивляться появлению наводок между каналами. Виновницей может быть емкость между каналами, составляющая величину порядка 0.5 пФ. Эффект усиливается по мере роста частоты и увеличения импеданса источника сигнала. Например, коэффициент ослабления связи между каналами 4-канальной микросхемы МАХ391 на частоте 1 МГц составляет всего 85 дБ. Поэтому, если перекрестные связи нежелательны, следует применять одноканальные ключи, такие, как ADG741/2. Динамические помехи. Во время перехода от включенного состояния к выключенному и обратно в аналоговых ключах на полевых транзисторах могут возникать неприятные эффекты. Скачок управляющего напряжения, поданный на затвор, вызывает изменение заряда в цепи канала. Это наиболее существенно при уровнях управляющих сигналов, соответствующих разомкнутому ключу. Подобные эффекты возникают и в мультиплексорах во время изменения адреса канала.<o:p></o:p></span></p> <p><span>Ввиду важности этой проблемы рассмотрим ее более подробно. На Рис. 12 изображена форма выходного сигнала, которую можно увидеть на выходе л-канального МОП-ключа, схема которого показана на Рис. 7.3а при нулевом уровне входного сигнала и нагрузке, состоящей из резистора сопротивлением 10 кОм и параллельного ему конденсатора емкостью 20 пФ.<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image040.jpg" v:shapes="_x0000_i1044"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 12 Форма выходного напряжения при коммутации ключа<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Положительный и отрицательный всплески, соответствующие фронтам управляющего сигнала, вызваны переносом заряда в канал через емкость </span><b><span>C<sub>G</sub></span></b><span> (см. Рис. 17), имеющую величину порядка 5 пФ, при изменении напряжения затвора. Это напряжение делает резкий скачок от одного уровня питания к другому, перенося в канал заряд <b>q=<u>+</u></b></span><b><span>C<sub>G</sub></span></b><span> (</span><b><i><span>V<sub>GS</sub></span></i></b><span>_</span><b><i><sub><span>max</span></sub></i></b><span> </span><span>– </span><b><i><span>V<sub>GS</sub></span></i></b><span>_</span><b><i><sub><span>m</span></sub></i></b><b><i><sub><span>шт</span></sub></i></b><span>)-<o:p></o:p></span></p> <p><span>Заметим, что величина переносимого заряда, называемого <i>зарядом переключения</i>, зависит только от полного изменения напряжения затвора и не зависит от времени, за которое это изменение происходит. Замедление изменения сигнала на затворе вызывает меньшую по амплитуде, но более долгую динамическую помеху (на Рис. 20 площадь, ограниченная всплесками Vo m соответствующая заряду переключения, не меняется). Фильтрация выходного сигнала ключа фильтром нижних частот дает тот же эффект. Такие меры могут помочь в тех случаях, когда важно добиться малого пика амплитуды динамической помехи, однако в смысле исключения пропускания управляющего напряжения с затвора на выход они неэффективны. Можно попробовать частично компенсировать заряд переключения путем добавки инвертированного сигнала затвора через компенсирующий подстроечный конденсатор малой емкости Сс (Рис. 21).<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image042.jpg" v:shapes="_x0000_i1045"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 21. Компенсация заряда переключения<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Емкость затвор—канал распределена по всей длине канала, а это значит, что часть заряда переключения (помехи) попадает на вход ключа, вызывая переходные процессы на выходе источника сигнала. Эти процессы будут минимальны, если источник сигнала обладает нулевым выходным сопротивлением, т. е. является источником ЭДС. Уменьшение полного сопротивления нагрузки также приводит к снижению динамической помехи, но при этом нагружается источник коммутируемого сигнала и вносятся дополнительные статическая погрешность и нелинейность за счет конечного и нелинейного </span><b><i><span>R<sub>ON</sub></span></i></b><span>. Уменьшение емкости затвор—канал за счет сокращения размеров интегрального МОП-транзистора уменьшает переходные помехи при переключении коммутатора, но за это приходится платить увеличением </span><b><i><span>R<sub>ON</sub></span></i></b><b><i><sub><span><span> </span></span></sub></i></b><span>. <o:p></o:p></span></p> <p><span>На Рис. 22 приведены кривые переноса заряда для ключа с управляющим </span><b><i><span>p</span></i></b><b><i><span>-</span></i></b><b><i><span>n</span></i></b><span>-переходом при различных сопротивлениях источника сигнала </span><b><i><span>R<sub>S</sub></span></i></b><b><i><sub><span><span> </span></span></sub></i></b><span>(см. Рис. 2). <o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image044.jpg" v:shapes="_x0000_i1046"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. .22. Зависимость заряда переключения коммутатора на полевом<o:p></o:p></span></p> <p style="text-align: center;"><span>транзисторе с управляющим <i>р-п-</i>переходом от входного напряжения<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image046.jpg" v:shapes="_x0000_i1047"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 23. Зависимость заряда переключения КМОП-ключа<o:p></o:p></span></p> <p style="text-align: center;"><span>МАХ312 от входного напряжения<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Как видно, для такого типа ключа существует сильная зависимость величины динамической помехи от параметров источника сигнала, поскольку напряжение на затворе пропорционально разности между уровнем входного сигнала и уровнем отрицательного напряжения питания. Хорошо сбалансированные КМОП-ключи имеют относительно малую динамическую помеху, поскольку попадающие в канал заряды у комплементарных МОП-транзисторов стремятся скомпенсировать друг друга (когда на одном затворе напряжение растет, на другом — падает). На Рис. 23 приведены зависимости заряда переключения от входного напряжения для интегрального КМОП-коммутатора МАХ312 при двухполярном питании <u>+</u>15 В (кривая А) и однополярном питании +12 В (кривая В).<o:p></o:p></span></p> <p><span>Чтобы дать представление о масштабе этих эффектов, скажем, что заряд 30 пКл создает скачок напряжения в 30 мВ на конденсаторе емкостью 1 нФ. Для многих применений это очень существенная величина. </span><span><o:p></o:p></span></p> <p><i><span>Быстродействие. </span></i><span>Ключи на полевых транзисторах имеют сопротивление в открытом состоянии </span><b><i><span>R<sub>ON</sub></span></i></b><i><span> </span></i><span>от 10 Ом до сотен Ом. В комбинации с емкостью подложки и паразитными емкостями это сопротивление образует фильтр нижних частот, ограничивающий область частот пропускаемых сигналов значениями порядка 10 МГц и даже ниже. Полевые транзисторы с меньшим </span><b><i><span>R<sub>ON</sub></span></i></b><i><span> </span></i><span>имеют обычно большую емкость, так что выигрыша в скорости нарастания выходного сигнала они не дают. Значительная доля в ограничении частотных свойств обусловлена элементами защиты — последовательными токоограничивающими резисторами и шунтирующими диодами, применяемыми почти во всех КМОП-схемах. Специальные быстродействующие коммутаторы, например ADG752 фирмы Analog Devices, имеют типичную полосу пропускания до 250 МГц и предназначены для передачи сигналов видеочастоты амплитудой <u>+</u> 1 В от низкоомных источников (обычно 75 Ом) на согласованную нагрузку.<o:p></o:p></span></p> <p><i><span>Время переключения. </span></i><span>Длительность переходного процесса включения и выключения <b>(</b></span><b><i><span>t<sub>ON</sub></span></i></b><b><span> и </span></b><b><i><span>t<sub>OFF</sub></span></i></b><b><span>) </span></b><span>коммутатора на МОП-транзисторах определяется временем перезаряда емкости затвор—канал. Уменьшение этой емкости приводит к увеличению </span><b><i><span>R<sub>ON</sub></span></i></b><i><span>. </span></i><span>Поэтому повышения скорости переключения добиваются <span>снижением выходного сопротивления цепей, осуществляющих управление напряжением на затворе коммутирующего МОП-транзистора. При этом возрастает ток, потребляемый схемой от источника питания. Характерная величина времени переключения для низкочастотных КМОП-коммутаторов составляет около 0.2 мкс, а для быстродействующих, таких, как уже упоминавшиеся ADG751/2, типичны время включения /0n = 8 hc и время выключения /0ff = 3 не при токе потребления в статическом режиме менее 1 мкА.<o:p></o:p></span></span></p> <p><span><o:p> </o:p></span></p> <p><b><span>3.3. Эксплуатационные параметры<o:p></o:p></span></b></p> <p><span>К эксплуатационным параметрам относятся:<o:p></o:p></span></p> <p><span>• номинальные значения питающих напряжений;<o:p></o:p></span></p> <p><span>• токи потребления;<o:p></o:p></span></p> <p><span>• максимально допустимое значение тока через коммутатор;<o:p></o:p></span></p> <p><span>• диапазон допустимых значений входного (выходного) напряжения;<o:p></o:p></span></p> <p><span>• диапазон допустимых значений температуры окружающей среды;<o:p></o:p></span></p> <p><span>• уровни напряжения управления (как правило, они согласованы с уровнями 0 и 1 TTJI и КМОП цифровых микросхем, для чего ИМС аналоговых коммутаторов содержат порой довольно сложные схемы управления собственно ключами).<o:p></o:p></span></p> <p><span>В Табл. 1 приведены основные характеристики некоторых типов аналоговых коммутаторов и мультиплексоров.<o:p></o:p></span></p> <p style="text-align: center;"><b><span>Таблица </span></b><b><span>1</span></b><b><span>. Основные характеристики аналоговых коммутаторов и мультиплексоров</span></b><b><span><o:p></o:p></span></b></p> <p><b><span><o:p> </o:p></span></b></p> <p><span>
  <img src="Tema%2013.files/image048.jpg" v:shapes="_x0000_i1048"> <o:p></o:p></span></p> <p><span>
  <img src="Tema%2013.files/image050.jpg" v:shapes="_x0000_i1049"> <o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p style="text-align: center;"> <b><span><span>4.<span> </span></span></span></b> <b><span>Применение аналоговых коммутаторов<o:p></o:p></span></b></p> <p><b><span>4.1. Влияние нелинейности аналоговых коммутаторов на искажения передаваемых сигналов <o:p></o:p></span></b></p> <p><span>Как уже отмечалось выше, сопротивление КМОП-ключа в открытом состоянии <b><i>R</i></b></span><b><i><sub><span>ON</span></sub></i></b><span> изменяется в зависимости от величины и полярности коммутируемого напряжения. Графики этой зависимости имеют характерный двугорбый вид, называемый иногда «короной». На Рис. 24 приведены графики зависимости <b><i>R</i></b></span><b><i><sub><span>ON</span></sub></i></b><span> от напряжения V<sub>D</sub> на стоке (или <b><i>Vs</i></b> на истоке) для распространенных мультиплексоров семейства ADG5xx для трех различных значений напряжений двухполярного питания: положительного +-Vs и отрицательного —Vs;<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image052.jpg" v:shapes="_x0000_i1050"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 24. Графики зависимости от напряжения на стоке мультиплексора семейства ADG5xx</span><span><o:p></o:p></span></p> <p><span>а на Рис.25 — изменения этих сопротивлений ATJon относительно минимальных значений. Эта зависимость сопротивления открытого канала от величины входного сигнала известна как модуляция <b><i>R</i></b></span><b><i><sub><span>ON</span></sub></i></b><span> и указывается в фирменной документации на коммутаторы как неравномерность сопротивления открытого канала <b><i>R</i></b></span><b><i><sub><span>FLAT</span></sub></i></b><b><i><sub><span>_</span></sub></i></b><b><i><sub><span>ON</span></sub></i></b><span> - Очевидно, что чем больше неравномерность сопротивления открытого канала коммутатора в диапазоне изменения входного сигнала, тем больше нелинейные искажения сигнала на его выходе. Поэтому для уменьшения искажений целесообразно увеличивать напряжение питания коммутатора и снижать диапазон входного сигнала, коммутируемого ключом. Например, длямультиплексора из семейства ADG5xx, работающего при питании <u>+</u>15 В, </span><b><i><sub><span>
  <img src="Tema%2013.files/image053.jpg" v:shapes="_x0000_i1051"> </span></sub></i></b><b><i><span><span> </span>R</span></i></b><b><i><sub><span>ON</span></sub></i></b><span> не превышает 4 Ом в диапазоне входного сигнала <u>+</u>3 В, увеличиваясь до 12 Ом в диапазоне <u>+</u>5 В и до 30 Ом в диапазоне <u>+</u>7 В . Можно, конечно, соединить ключ с виртуальной землей операционного усилителя. Это обеспечит низкое напряжение на открытом ключе, что в свою очередь устранит проблемы модуляции <b><i>R</i></b></span><b><i><sub><span>ON</span></sub></i></b><span>, однако во многих случаях требуется коммутировать сигналы относительно высоких напряжений.<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image055.jpg" v:shapes="_x0000_i1052"> </span><span><o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 25. Графики зависимости изменения <b><i>R</i></b></span><b><i><sub><span>ON</span></sub></i></b><span> о т напряжения на стоке</span><span><o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image057.jpg" v:shapes="_x0000_i1053"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>26</span><span>. Мультиплексор, нагруженный на резистор</span><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Типичный вариант применения мультиплексора, нагруженного на резистор R</span><sub><span>SK</span></sub><span> , иллюстрируется на Рис. 26. Сопротивление </span><span>R</span><sub><span>S</span></sub><sub><span>K</span></sub><span>, показанное в каждом канале мультиплексора — это выходное сопротивление к -го источника сигнала. В диапазоне возможного изменения сигналов степень их искажения, обусловленная модуляцией, может быть оценена по формуле <o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image059.jpg" v:shapes="_x0000_i1054"> <o:p></o:p></span></p> <p><span>Как следует из формулы , выбирая внешние сопротивления R<sub>L</sub> и R<sub>S</sub> достаточно большими, можно снизить искажение, вносимое каналом коммутатора, до желаемого уровня, однако высокие значения сопротивлений резисторов увеличивают шум в канале, требуют применения дополнительных усилителей. </span><span><o:p></o:p></span></p> <p><span>В документации на некоторые модели коммутаторов и мультиплексоров приводятся графики зависимости суммарного коэффициента гармоник (THD) от частоты при R<sub>L</sub> = R<sub>S</sub> = 600 Ом. Интересно, что обычно они приводятся для режима максимально высоких напряжений питания и диапазона входных напряжений 1 В/п-п (означает 1 В от пика до пика напряжения). При этом получается очень красиво — THD не более 0.02% и не зависит от частоты. На практике при увеличении диапазона входных напряжений до оговоренных техническими условиями — </span><span>V</span><span>s < </span><span>V</span><sub><span>IN</span></sub><span> < +</span><span>V</span><span>s THD резко возрастает.<o:p></o:p></span></p> <p><span>На Рис. 27 приведена номограмма, которая позволяет быстро оценить в первом приближении искажение, вносимое неравномерностью </span><span>R<sub>ON</sub></span><span> </span><span>мультиплексора, включенного по схеме на Рис. 26. Левая шкала номограммы представляет полное сопротивление канала, включая Ron ключа при </span><span>V<sub>D</sub></span><span> </span><span>(</span><span>V</span><span>s) = 0 В, средняя шкала представляет THD, правая шкала представляет </span><b><i><sub><span>

  <img src="Tema%2013.files/image053.jpg" v:shapes="_x0000_i1055"> </span></sub></i></b><span><span> </span></span><span>R<sub>ON</sub></span><span> в выбранном диапазоне изменения сигналов. Для использования номограммы следует провести прямую линию между соответствующими точками внешних шкал. Точка пересечения этой прямой со средней шкалой определяет ожидаемый уровень THD.</span><b><i><span><o:p></o:p></span></i></b></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image061.jpg" v:shapes="_x0000_i1056"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. 27 Номограмма для оценки искажения, вносимого неравномерностью <b><i>R</i></b></span><b><i><sub><span>ON</span></sub></i></b><span><o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><b><span>4.</span></b><b><span>2</span></b><b><span>. </span></b><b><span><o:p></o:p></span></b></p> <p><span>Хорошим применением ключей на полевых транзисторах являются мультиплексоры — схемы, которые позволяют выбрать один из нескольких входов по указанию управляющего цифрового сигнала. Такие устройства входят в состав систем сбора данных микропроцессорных регуляторов промышленных и транспортных объектов. На выход мультиплексора будет проходить аналоговый сигнал с выбранного входа. На <b><i>Рис.28а</i></b> в качестве примера показана функциональная схема аналогового мультиплексора с четырех направлений в одно (4x1) с параллельным управлением. <o:p></o:p></span></p> <p style="text-align: center;"><b><span>
  <img src="Tema%2013.files/image063.jpg" v:shapes="_x0000_i1057">
  <img src="Tema%2013.files/image065.jpg" v:shapes="_x0000_i1058"> <o:p></o:p></span></b></p> <p style="text-align: center;"><b><span>
  <img src="Tema%2013.files/image067.jpg" v:shapes="_x0000_i1059"> <o:p></o:p></span></b></p> <p style="text-align: center;"><b><span>Рис. </span></b><b><span>28</span></b><b><span>. </span></b><span>Схемы аналоговог о мультиплексора 4x1: <i>a </i>— функциональная, <i>б — </i>условное обозначение, <i>в </i>— схема включения двух мультиплексоров в режиме 8x 1<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>Каждый из ключей от S0 до S1 представляет собой аналоговый КМОП-ключ. Дешифратор декодирует адрес, представленный в двоичном коде, и включает только адресованный ключ, блокируя остальные. Вход разрешения Е необходим для наращивания числа коммутируемых источников сигналов; если на этот вход поступает сигнал низкого уровня, то независимо от состояния адресных входов все ключи мультиплексора разомкнуты. Так как аналоговые КМОП-ключи являются двунаправленными устройствами, аналоговый мультиплексор является одновременно и демультиплексором, т. е. сигнал может быть подан на выход мультиплексора и снят с избранного входа. На <b><i>Рис.28б</i></b> приведено условное обозначение мультиплексора с параллельным управлением, а на <b><i>Рис. 28в</i></b> — схема включения двух мультиплексоров 4x1, обеспечивающая коммутацию восьми каналов в один.<o:p></o:p></span></p> <p><span>Если требуется управление несколькими мультиплексорами по небольшому количеству линий, то можно применить мультиплексоры с последовательным интерфейсом. Примером могут служить ИМС МАХ349/50, первая из которых содержит один мультиплексор 8x1, а вторая — два мультиплексора 4x1. Эта последняя позволяет организовать дифференциальный мультиплексор 4x1.<o:p></o:p></span></p> <p><span>Управление ИМС МАХ349/50 осуществляется по последовательному трехпроводному интерфейсу, совместимому как с SPI/QSPI, так и с MICROWIRE. <o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image069.jpg" v:shapes="_x0000_i1060"> <o:p></o:p></span></p> <p><span>Рис. 29 Схема мультиплексора МАХ349 (8x 1) с последовательным управлением по трехпроводному SPI/QSPI, MICROWIRE-совместимому интерфейсу<o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>На <b>Рис.29 </b>приведена функциональная схема мультиплексора МАХ349. Блок логики содержит 8-разрядный регистр сдвига, информационный вход которого соединен с выводом DIN микросхемы, а выход последнего разряда — с DOUT. Синхронизация сдвига осуществляется последовательностью импульсов, подаваемых на вывод SCL. Для активизации входов на вывод CS (chip select — выбор кристалла ) необходимо подать сигнал низкого уровня. При этом регистр может принимать данные, поступающие по входу DIN в моменты времени, соответствующие передним фронтам импульсов SCL <b>(Рис.30) </b>Входное слово имеет длину 8 бит, причем каждый бит управляет одним из восьми ключей. Таким образом, в отличие от мультиплексора с дешифратором (см. <b>Рис.28, </b>в данной схеме ключи<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image071.jpg" v:shapes="_x0000_i1061"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>30</span><span>. Диаграммы, поясняющие управление мультиплексором МАХ349<o:p></o:p></span></p> <p style="text-align: center;"><span>по трехпроводному (SPI/QSPI, MICROWIRE-совместимому) интерфейсу<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span>управляются независимыми разрядами, что удобно при использовании МАХ349 в качестве демультиплексора, когда к одному источнику сигнала можно подключить несколько приемников. <o:p></o:p></span></p> <p><span>Данные на выводе DOUT представляют собой входные данные, задержанные на восемь тактов сигнала SCL. При записи (сдвиге) данных в регистр состояние ключей не меняется. Когда все 8 бит данных записаны в регистр, сигнал CS переводится в состояние 1. В этот момент ключи устанавливаются в состояние, соответствующее новому управляющему слову. Прием сигналов с входа прекращается. В отличие от 2-проводного интерфейса </span><b><i><span>I</span></i></b><b><i><sup><span>2</span></sup></i></b><b><i><span>С</span></i></b><span> (управление ADG715) здесь используется 3-проводный SPI/QSPI, MICROWIRE-совмести- мый интерфейс и можно ввести через вход DIN (при низком уровне на входе CS) любое количество бит информации. Однако в этом случае регистр сдвига будет содержать только 8 бит, поступивших последними. </span><b><i><span><o:p></o:p></span></i></b></p> <p><span>Для наращивания числа мультиплексоров, управляемых от одних и тех же трех линий (DIN, SCL и CS), их можно включить гирляндой «с последовательной загрузкой», как показано на <b>Рис. 31.</b><o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image073.jpg" v:shapes="_x0000_i1062"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>31</span><span>. Схема управления несколькими мультиплексорами с<o:p></o:p></span></p> <p style="text-align: center;"><span>последовательной загрузкой<o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Выводы CS всех устройств связаны, и при низком уровне сигнала CS поток данных перемещается через микросхемы последовательно. Когда сигнал CS переводится в высокий уровень, все ключи, входящие в состав мультиплексоров, устанавливаются в новое состояние одновременно. В отличие от интерфейса </span><b><i><span>I</span></i></b><b><i><sup><span>2</span></sup></i></b><b><i><span>С</span></i></b><span>, допускающего адресацию не более 128 устройств, здесь число управляемых устройств не ограниченно.<o:p></o:p></span></p> <p><span>Другой вариант управления несколькими мультиплексорами — последовательный интерфейс с параллельной адресацией (<b>Рис. 32</b>).<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image075.jpg" v:shapes="_x0000_i1063"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>32</span><span>. Схема управления несколькими мультиплексорами по<o:p></o:p></span></p> <p style="text-align: center;"><span>последовательному интерфейсу с параллельной адресацией<o:p></o:p></span></p> <p><span>В этом случае мультиплексоры адресуются процессором индивидуально. Для выбора конкретного адресуемого устройства его адрес в виде параллельного кода подается на дешифратор. При этом на одном из выходов дешифратора устанавливается уровень НИЗКИЙ, делая доступным ввод данных DIN только в мультиплексор, адресуемый этим выходом. <o:p></o:p></span></p> <p><span>После загрузки данных адрес должен быть изменен для того, чтобы ключи адресуемого мультиплексора были установлены в новое состояние. Выходы данных DOUT в этой схеме не используются. <o:p></o:p></span></p> <p><span>К разновидности аналоговых коммутаторов можно отнести также <b>оптореле</b>. Оптореле отличаются от коммутаторов, рассмотренных выше, прежде всего отсутствием электрической связи между цепью управления и коммутируемыми цепями, причем максимально-допустимое напряжение электрической изоляции может достигать несколько киловольт. Это большое преимущество, за которое приходится платить низким быстродействием. Оптореле различаются, прежде всего, типами ключевых элементов, в качестве которых применяются тиристоры, биполярные транзисторы и МОП-транзисторы. Первые два вида ключей обладают плохими точностными характеристиками, поэтому соответствующие типы оптореле применя- ются исключительно для коммутации силовых цепей небольшой мощности. Оптореле с МОП-транзисторами имеют неплохие точностные характеристики (по крайней мере, на низких частотах), поэтому они могут применяться в качестве коммутаторов аналоговых сигналов. На Рис. </span><span>33</span><span> приведена схема оптореле на МОП-транзисторах. </span><span><o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image077.jpg" v:shapes="_x0000_i1064"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>3</span><span>3. Схема опторелена МОП-транзисторах<o:p></o:p></span></p> <p style="text-align: center;"><span><o:p> </o:p></span></p> <p><span>Силовой ключ образуют два МОП-транзистора с каналом л-типа, включенные встречно-последовательно. Это хотя и увеличивает вдвое сопротивление открытого ключа, но позволяет получить высокое максимально допустимое напряжение в закрытом состоянии. Управление состоянием обоих транзисторов осуществляется несколькими фотодиодами, включенными последовательно. Фотодиоды работают в данном случае как фотоэлементы в режиме холостого хода. При освещении каждый из них вырабатывает напряжение около одного вольта, поэтому при пропускании тока </span><b><i><span>I<sub><span>CTRL</span></sub></span></i></b><b><i><sub><span> </span></sub></i></b><span>через светодиод транзисторы открываются. Динамическое сопротивление фотодиодов даже в режиме холостого хода сравнительно велико, поэтому процессы отпирания и запирания ключа, связанные с зарядом входной емкости МОП-транзисторов, протекают довольно медленно. <o:p></o:p></span></p> <p><span>Типичным представителем этого класса приборов является 2-канальное оптореле TLV422 производства фирмы International Rectifier. Это реле может обеспечить коммутацию разнополярных сигналов с напряжением до 400 В, чего не допускает ни один КМОП-коммутатор. Максимально допустимое напряжение изоляции составляет 4 кВ. Сопротивление открытого канала не более 20 Ом при входном токе управления 5 мА. Типичное время отпирания ключа при коммутируемом токе 20 мА — 800 мкс, а выключения — 400 мкс. Ток утечки закрытого ключа достигает 1 мкА (у аналоговых коммутаторов он меньше 1 нА). На Рис. 34 представлена вольтамперная характеристика оптореле TLV422 в открытом состоянии.<o:p></o:p></span></p> <p style="text-align: center;"><span>
  <img src="Tema%2013.files/image079.jpg" v:shapes="_x0000_i1065"> <o:p></o:p></span></p> <p style="text-align: center;"><span>Рис. </span><span>34</span><span>. Вольтамперная характеристика оптореле TLV422 в открытом состоянии<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><o:p> </o:p></span></p> <span><br clear="all"> </span> <p><span><o:p> </o:p></span></p> <p> <span><span>1.<span> </span></span></span> <span>Аналоговые коммутаторы: назначение, разновидность, схемные решения механических коммутаторов, способы реализации.<o:p></o:p></span></p> <p> <span><span>2.<span> </span></span></span> <span>Схема коммутатора<span> </span>на полевом транзисторе, принцип действия, особенности применения<o:p></o:p></span></p> <p> <span><span>3.<span> </span></span></span> <span>Промышленные аналоговые коммутаторы: характеристики, применение, преимущество МОП-ключей перед диодными и биполярными.<o:p></o:p></span></p> <p> <span><span>4.<span> </span></span></span> <span>Характеристики аналоговых коммутаторов их особенности.<o:p></o:p></span></p> <p> <span><span>5.<span> </span></span></span> <span>Назначение<span> </span>аналоговых коммутаторов, понятие, примеры применения.<o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> <p><span><span> </span><o:p></o:p></span></p> <p><span><o:p> </o:p></span></p> </div>
                <p>&nbsp;</p>
        <A HREF="../../../Теория/theory.html">Содержание</A>
        <div style="position: fixed; right: 0; bottom: 0">
  <a href="#" id="toTop"><img src="../../../Оболочка/js/to_top_ye.GIF" width="32" height="32" border="0" align="absmiddle"></a> </div>
                <p>&nbsp;</p>
        </div>
<table width="100%" height=25px border="0" cellpadding="0" cellspacing="3" bordercolor="#316AC5" background="../../../../Оболочка/images/background.jpg">
  <tr >
  <td align=center><var><B><b>(С)  БГУИР</b></var></td>
  </tr>
</table>
</BODY></HTML>